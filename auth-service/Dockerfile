FROM maven:3.6.3-jdk-11
ARG OAUTH_GOOGLE_CLIENT_ID
ARG OAUTH_GOOGLE_CLIENT_SECRET
ARG VIRTUAL_PORT
ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar

ENV OAUTH_GOOGLE_CLIENT_ID=${OAUTH_GOOGLE_CLIENT_ID}
ENV OAUTH_GOOGLE_CLIENT_SECRET=${OAUTH_GOOGLE_CLIENT_SECRET}
EXPOSE ${VIRTUAL_PORT}

ENTRYPOINT ["java","-jar","/app.jar"]