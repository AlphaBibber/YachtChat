FROM maven:3.6.3-jdk-11

ARG KEYCLOAK_URL
ARG KEYCLOAK_PASSWORD
ARG KEYCLOAK_USER
ARG KEYCLOAK_REALM
ARG KEYCLOAK_PROTOCOL
ARG GCP_PROJECT_NAME
ARG GCP_PROJECT_NAME
ARG GCP_BUCKET_NAME
ARG GOOGLE_APPLICATION_CREDENTIALS

ARG VIRTUAL_PORT
ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar

EXPOSE ${VIRTUAL_PORT}

ENTRYPOINT ["java","-jar","/app.jar"]
