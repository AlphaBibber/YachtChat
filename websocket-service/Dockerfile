FROM maven:3.6.3-jdk-11

ARG VIRTUAL_PORT
ARG SPACES_URL
ARG JAR_FILE=target/*.jar
ADD ${JAR_FILE} app.jar

ENV VIRTUAL_PORT ${VIRTUAL_PORT}
ENV SPACES_URL ${SPACES_URL}

EXPOSE ${VIRTUAL_PORT}

ENTRYPOINT ["java","-jar","/app.jar"]
